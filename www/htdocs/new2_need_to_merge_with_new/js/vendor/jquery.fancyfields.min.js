var _mouseX=0,_mouseY=0,_ffIsMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);(function(e){function t(t){if(e.fn.ffCustomScroll&&t.closest(".ffSelect").next("select").data("settings").customScrollBar)t.ffCustomScroll("ffCustomScrollCheckPosition");else{var s=t.parent(".ffSelectMenuOuter"),a=e("li",t).outerHeight(),i=s.height(),n=a*e("li.on",t).index(),o=a*(Math.floor(Math.floor(i/a)/2)-1);s.scrollTop(n-o)}}function s(e,t){e.focusin(function(){t.addClass("focus")}),e.focusout(function(){t.removeClass("focus")}),e.mouseout(function(){t.removeClass("focus")})}function a(){e(".on",r).next("LI").length>0&&(e(".on",r).toggleClass("on").next("LI").toggleClass("on"),t(r))}function i(){e(".on",r).prev("LI").length>0&&(e(".on",r).toggleClass("on").prev("LI").toggleClass("on"),t(r))}function n(e,t){e.is(":disabled")&&t.addClass("disabled")}var o,r=null,l=!1,c=!0,d=!1,p=!1,u=!1,f="",h={init:function(h){c&&(e(document).keydown(function(t){if(null!=r){p=!1;var s=t.keyCode||t.which;"38"==s||"104"==s?(p=!0,i(),t.preventDefault()):"40"==s||"98"==s?(p=!0,a(),t.preventDefault()):"13"==s?(p=!0,e(".on",r).click(),t.preventDefault()):"27"==s&&(p=!0,r.closest(".ffSelectMenuWrapper").prev(".ffSelectButton").click(),t.preventDefault())}}),e(document).on("keypress",function(s){if(null!=r){if(p)return p=!1,!1;s.keyCode||s.which;var a=String.fromCharCode(s.keyCode|s.charCode),i=r.data("cts");clearTimeout(o),u&&f!=a?f+=a:f=a,u=!0,o=setTimeout(function(){u=!1},i);var n=f.toLowerCase(),l=f.length;if(e(".on SPAN",r).text().substring(0,l).toLowerCase()==n){if(2>l)if(e(".on",r).next("LI").children("SPAN").text().substring(0,l).toLowerCase()==n)e(".on",r).removeClass("on").next("LI").addClass("on"),t(r);else{var c=e("LI",r).index(e(".on",r)),d=!0;e("LI SPAN",r).slice(c+1).each(function(){return e(this).text().substring(0,l).toLowerCase()==n?(e(".on",r).removeClass("on"),e(this).parent("LI").addClass("on"),t(r),d=!1,!1):void 0}),d&&e("LI SPAN",r).each(function(){return e(this).text().substring(0,l).toLowerCase()==n?(e(".on",r).removeClass("on"),e(this).parent("LI").addClass("on"),t(r),!1):void 0})}}else e("LI SPAN",r).each(function(){return e(this).text().substring(0,l).toLowerCase()==n?(e(".on",r).removeClass("on"),e(this).parent("LI").addClass("on"),t(r),!1):void 0});s.preventDefault()}}),e(document).click(function(){null!=r&&(l||r.data("ds")?r.data("ds",!1):r.closest(".ffSelectMenuWrapper").prev(".ffSelectButton").click(),l=!1)}),c=!1);var v=e(this).length,g=1,b=e("");return this.each(function(){function a(){var t=w.width();e("span",A).css("white-space","nowrap");var s=0,a=e(".ffSelectMenuOuter",w).outerWidth(!0)-e("ul",w).outerWidth(!0),i=e("li",A).outerWidth(!0)-e("li",A).width();e("span",A).each(function(t,a){s=Math.max(s,e(a).width())}),e("span",A).css("white-space","normal"),s+i+a>t&&w.css("width",s+i+a)}var i=e(this);if(i.is("input")||i.is("textarea")||i.is("select")){var o=e.extend({enableOnClean:!1,cleanDisableOnClean:!1,cleanOnFocus:!0,appendInputClassToWrapper:!1,customScrollBar:!1,continueTypingSpees:1e3},h);i.data("settings",o),null==i.data("defaultSettings")&&i.data("defaultSettings",o);var c=null;i.data("default",i.clone());var p=null!=i.prop("class")&&o.appendInputClassToWrapper?" "+i.prop("class"):"";if(i.is("select")){var u=i.width();c=e('<div class="ffSelectWrapper'+p+'" ></div>');var f=e('<div class="ffSelect"></div>').css({"z-index":100,position:"relative"}),x=e('<A href="javascript:void(0)" class="ffSelectButton"><span></span></A>');if(i.prop("tabindex")&&(x.prop("tabindex",i.prop("tabindex")),i.data("ti",i.prop("tabindex"))),n(i,c),_ffIsMobile){c.append(f.append(x)).insertAfter(i.addClass("mobileSelect")),x.css({width:0}),f.append(i);var m=x.outerWidth(!0)-x.outerWidth();x.css({width:u-m}),x.click(function(){i.trigger("click")}),e("span",x).text(e("option:selected",i).text()),i.change(function(){var t=e("option:selected",i);e("span",x).text(t.text());var s=o.onSelectChange;"function"==typeof s&&s(i,t.text(),t.val())})}else{var C,w=e('<div class="ffSelectMenuWrapper">').css("position","absolute"),S=e('<ul data-cts="'+o.continueTypingSpees+'" data-ds="'+!1+'">'),k="",y=!1,I="",L="";$objOptions=e(">option,optgroup",i),$objOptions.each(function(){if(C=e(this),"OPTION"==C.prop("tagName")){if(I=C.prop("class")?' class="'+C.prop("class")+'"':"",C.prop("selected")){y=!0;var t=e("span",x);t.text(C.text()),I=""==I?' class="on selected"':I.substring(0,I.length-1)+' on selected"'}C.prop("disabled")&&(I=""==I?' class="disabled"':I.substring(0,I.length-1)+' disabled"'),k+="<li"+I+'><span data-val="'+C.val()+'"'+("disabled"==C.prop("disabled")?"data-dis='disabled'":"")+">"+C.text()+"</span></li>"}else{L=C.prop("class")?" "+C.prop("class"):""!=C.prop("label")?" "+C.prop("label").replace(/\s+/g," "):"",k+='<li class="ffGroup disabled'+L+'"><span>'+C.prop("label")+"</span></li>";var s=e(">option",C);s.each(function(){if(C=e(this),I=C.prop("class")?' class="'+C.prop("class")+'"':"",C.prop("selected")){y=!0;var t=e("span",x);t.text(C.text()),I=""==I?' class="on selected"':I.substring(0,I.length-1)+' on selected"'}C.prop("disabled")&&(I=""==I?' class="disabled"':I.substring(0,I.length-1)+' disabled"'),k+="<li"+I+'><span data-val="'+C.val()+'"'+("disabled"==C.prop("disabled")?"data-dis='disabled'":"")+">"+C.text()+"</span></li>"})}}),S.html(k);var A=e('<div class="ffSelectMenuOuter"></div>').css("overflow","auto");w.append(e('<div class="ffSelectMenu"></div>').append(A.append(S))),w.css("display","none"),x.css({width:0}),c.append(f.append(x).append(w)).insertAfter(i.css("display","none")).append(i);var m=x.outerWidth(!0)-x.outerWidth();x.css({width:u-m});var T=w.css("top"),M=e("ul",w),O=M.css("max-height"),E=e(window),P=c.height();x.click(function(){function s(){M.css("max-height",Math.floor((d-20)/u)*u)}function i(){M.css("max-height",Math.floor((o-n-20)/u)*u)}var n=E.scrollTop();if(null!=r&&r!=S&&r.closest(".ffSelectMenuWrapper").prev(".ffSelectButton").click(),l=!0,w.is(":hidden")){if(!c.hasClass("disabled")){r=S,f.css("z-index",200),c.addClass("active"),w.show(),a();var o=c.offset().top,d=E.height()-P-(o-n),p=e("li",w).size(),u=e("li",w).outerHeight(),h=5*u,v=u*p;p>0&&6>p&&(h=v),0==p&&(v="auto"),d>h+20?(w.height("auto").css({bottom:"auto",top:T}),s(),M.css("max-height",v),"none"!=O&&M.css("max-height",O),w.outerHeight()+20>d&&s()):(w.height("auto").css({top:"auto",bottom:P}),i(),M.css("max-height",v),"none"!=O&&M.css("max-height",O),w.outerHeight()+20>o-n-20&&i()),a(),t(S)}}else r=null,c.removeClass("active"),e("LI.on",w).removeClass("on"),e("LI.selected",w).addClass("on"),w.hide(),f.css("z-index",100)});var W=e('*[for="'+i.attr("id")+'"]');W.click(function(){x.trigger("focus")}),s(x,c),S.on("click","LI",function(){var t=e(this);if(t.hasClass("selected")||t.hasClass("disabled"))t.hasClass("selected")&&w.is(":visible")&&x.click();else{var s=e("span",t).data("val"),a=e("span",t).text(),n=o.validateSelectChange;if("function"!=typeof n||n(i,a,s)!==!1){var l=e("LI",S).not(".ffGroup").index(t);if(i.val(s),e("span",x).prop("class","").text(a),t.siblings(e("li")).removeClass("on"),t.addClass("on"),t.siblings(e("li.selected")).removeClass("selected"),t.addClass("selected"),c.removeClass("active"),e("option:selected",i).prop("selected",!1),e("option:eq("+l+")",i).prop("selected",!0),r=null,w.is(":visible")&&(w.hide(),f.css("z-index",100)),!d){i.trigger("change");var p=o.onSelectChange;"function"==typeof p&&p(i,a,s)}}else x.click()}return d=!1,!1}).on("mousemove","LI",function(t){(_mouseX!=t.pageX||_mouseY!=t.pageY)&&(e(".on",S).removeClass("on"),e(this).addClass("on"),_mouseX=t.pageX,_mouseY=t.pageY)}),e.fn.ffCustomScroll&&o.customScrollBar&&c.ffCustomScroll()}}i.data("wrapper",c)}else if(i.is("FORM")?i.prop("autocomplete","off"):e("FORM",i).prop("autocomplete","off"),b=b.add(e("INPUT,SELECT,TEXTAREA",i)),g==v){if(h!==void 0&&h.exclude!==void 0){var j=h.exclude.split(",");e.each(j,function(e,t){b=b.not(""+t)})}b.filter("INPUT,TEXTAREA").fancyfields(h),b.filter("SELECT").fancyfields(h)}else g++})},option:function(t,s){return this.each(function(){var a=e(this);settings=a.data("settings"),null!=settings&&(settings[t]=s)})},bind:function(t,s){return this.each(function(){var a=e(this);settings=a.data("settings"),null!=settings&&(settings[t]=s)})},unbind:function(t){return this.each(function(){var s=e(this);settings=s.data("settings"),null!=settings&&(settings[t]=null)})},disable:function(){return this.each(function(){var t=e(this);settings=t.data("settings"),wrapper=t.data("wrapper"),null!=wrapper&&wrapper.addClass("disabled"),(t.is(":text")||t.is("textarea")||t.is(":password")||t.is(":checkbox")||t.is(":radio")||t.is("select"))&&t.prop("disabled","disabled")})},enable:function(){return this.each(function(){var t=e(this);settings=t.data("settings"),wrapper=t.data("wrapper"),null!=wrapper&&wrapper.removeClass("disabled"),(t.is(":text")||t.is("textarea")||t.is(":password")||t.is(":checkbox")||t.is(":radio")||t.is("select"))&&t.removeAttr("disabled")})},toggleEnable:function(){return this.each(function(){var t=e(this);wrapper=t.data("wrapper"),null!=wrapper&&wrapper.toggleClass("disabled"),(t.is(":text")||t.is("textarea")||t.is(":password")||t.is(":checkbox")||t.is(":radio")||t.is("select"))&&("disabled"==t.prop("disabled")||1==t.prop("disabled")?t.removeAttr("disabled"):t.prop("disabled","disabled"))})},clean:function(){return this.each(function(){var t=e(this);t.is(":reset")||t.is(":button")||t.is(":submit")||t.is("input[type=hidden]")||(t.is("input")||t.is("textarea")||t.is("select")?(settings=t.data("settings"),wrapper=t.data("wrapper"),settings.enableOnClean&&(wrapper.removeClass("disabled"),(t.is(":text")||t.is("textarea")||t.is(":password")||t.is(":checkbox")||t.is(":radio")||t.is("select"))&&t.removeAttr("disabled")),("disabled"!=t.prop("disabled")||settings.cleanDisableOnClean)&&(t.is(":checkbox")||t.is(":radio")?(t.is(":checked")||(invokeChange=!1),t.removeAttr("checked"),wrapper.removeClass("on")):t.is("select")?(wrapper=t.data("wrapper"),_ffIsMobile?(e("option:first",t).prop("selected","selected"),e("span",wrapper).text(e("option:first",t).text())):(d=!0,e("LI:first",wrapper).click())):t.is(":text")||t.is("textarea")||t.is(":password")?(t.val(""),wrapper.removeClass("on")):t.is(":file")&&t.fancyfields("reset"))):e("INPUT,SELECT,TEXTAREA",t).fancyfields("clean"))})},reset:function(){return this.each(function(){var t=e(this);if(!(t.is(":reset")||t.is(":button")||t.is(":submit")||t.is("input[type=hidden]")))if(t.is("input")||t.is("textarea")||t.is("select")){defaultObj=t.data("default"),wrapper=t.data("wrapper");var s=t.data("settings");t.is(":checkbox")||t.is(":radio")?t.data("defaultLabel").insertAfter(defaultObj.insertAfter(wrapper)):defaultObj.insertAfter(wrapper),wrapper.remove(),defaultObj.fancyfields(s)}else e("INPUT,SELECT,TEXTAREA",t).fancyfields("reset")})},checked:function(){return this.each(function(){var t=e(this);t.is(":checkbox")&&!t.is(":checked")&&t.click()})},unchecked:function(){return this.each(function(){var t=e(this);t.is(":checkbox")&&t.is(":checked")&&t.click()})}};e.fn.fancyfields=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.tooltip"),void 0):h.init.apply(this,arguments)},e.fn.submitIncluseDisebeld=function(){var t=e(this);e("input:disabled , textarea:disabled , select:disabled ",t).removeAttr("disabled"),t.submit()},e.fn.setVal=function(t){return this.each(function(){var s=e(this);if(s.is("select"))if(s.val(t),wrapper=s.data("wrapper"),_ffIsMobile)e("span",wrapper).text(e("option:selected",s).text());else{var a=e("option",s).index(e("option:selected",s));e("LI:eq("+a+")",wrapper).click()}})},e.fn.setOptions=function(t){return this.each(function(){var s=e(this);if(s.is("select")){var a,i=s.data("settings");wrapper=s.data("wrapper"),s.html("").insertAfter(wrapper),e.each(t,function(e,t){a=null==t[1]?t[0]:t[1],s.append('<option value="'+a+'" >'+t[0]+"</option>")}),wrapper.remove(),s.fancyfields(i)}})},e.fancyfields={GroupVal:function(t){return e("input[name="+t+"]:checked").val()}}})(jQuery),jQuery.single=function(e){return function(t){return e[0]=t,e}}(jQuery([1]));